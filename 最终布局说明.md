# 最终前端布局说明

## 📋 最新侧边栏结构

```
⚙️ 参数配置
│
├─ 📤 输出模式（最顶部，醒目）
│  └─ 单选：PDF讲解版 / Markdown截图讲解 / HTML截图版
│
├─ ─────────────────────────────────
│
├─ 模式特定参数（动态显示）
│  ├─ 📝 Markdown 参数
│  ├─ 🌐 HTML 截图版参数
│  └─ （PDF 参数在高级排版配置中）
│
├─ ─────────────────────────────────
│
├─ 🔑 API 配置（expander，✅ 默认展开）
│  ├─ GEMINI_API_KEY
│  ├─ 模型名称
│  └─ 温度 | 最大输出 Tokens
│
├─ ⚡ 性能配置（expander，✅ 默认展开）
│  ├─ 并发页数 | 渲染 DPI
│  ├─ RPM 上限
│  └─ TPM 预算 | RPD 上限
│
├─ 🎨 高级排版配置（expander，📁 默认折叠）
│  └─ PDF 专属参数
│     ├─ 右侧留白比例 | 字体大小
│     ├─ 行距 | 栏内边距
│     ├─ CJK 字体
│     └─ 渲染方式
│
├─ ✍️ 讲解风格配置（expander，📁 默认折叠）
│  └─ 讲解风格/要求提示词
│
└─ 🧠 上下文增强（expander，📁 默认折叠）
   ├─ 启用前后各1页上下文
   └─ 上下文提示词
```

## 🎯 设计理念

### 1. 顶部优先级
- **输出模式**在最顶部：用户首先选择输出格式
- 清晰的工作流程引导

### 2. 核心配置默认展开
- **API 配置**：必填参数，默认展开
- **性能配置**：常用参数，默认展开

### 3. 高级功能默认折叠
- **高级排版配置**：PDF 专属，新手不常用
- **讲解风格配置**：通用但是高级功能
- **上下文增强**：可选功能，高级用户使用

### 4. 智能分组
- 相关参数使用列布局并排显示
- 每个 expander 职责清晰
- 根据输出模式动态显示相关参数

## 🌟 主要特点

### ✅ 简洁性
- 默认只展开必要的配置
- 高级功能折叠，不吓到新手

### ✅ 灵活性
- 上下文增强对所有输出模式可用
- 讲解风格独立配置，所有模式通用

### ✅ 清晰性
- 使用表情符号增强识别
- 清晰的分组和层次
- 详细的帮助文本

### ✅ 高效性
- 列布局节省垂直空间
- 相关参数并排显示
- 快速访问常用设置

## 📱 使用流程

1. **选择输出模式** → PDF / Markdown / HTML
2. **配置模式参数** → 根据选择的模式自动显示
3. **设置 API** → 输入 API Key 和模型参数（展开）
4. **配置性能** → 设置并发和限流参数（展开）
5. **调整高级选项**（可选）→ 排版、风格、上下文（折叠）
6. **上传文件处理** → 主区域操作

## 🔄 对比旧版

### 旧版问题
❌ 输出模式在主区域
❌ 上下文增强只对 PDF 可用
❌ 参数散落在侧边栏和主区域
❌ 所有参数平铺，没有分组
❌ 讲解风格混在高级排版里

### 新版优势
✅ 输出模式在侧边栏顶部
✅ 上下文增强对所有模式可用
✅ 所有配置集中在侧边栏
✅ 使用 expander 清晰分组
✅ 讲解风格独立成配置区

## 💡 使用建议

### 新手用户
只需关注：
- 📤 输出模式
- 🔑 API 配置
- ⚡ 性能配置（可使用默认值）

其他高级选项保持默认即可。

### 高级用户
可以展开：
- 🎨 高级排版配置（调整 PDF 细节）
- ✍️ 讲解风格配置（自定义提示词）
- 🧠 上下文增强（提高连贯性）

## 📊 改进效果

- ✅ 界面更简洁（默认折叠高级选项）
- ✅ 功能更灵活（上下文和风格独立）
- ✅ 操作更流畅（清晰的工作流程）
- ✅ 空间更高效（列布局和 expander）
- ✅ 体验更友好（新手不迷茫，高级用户有掌控）

